<html lang="en">
    <head>
        <link rel="stylesheet" href="/css/app.css" />
        <link rel="stylesheet" href="/css/bootstrap.css" />
    </head>

    <body ng-app="mahjongMadness">
        <div class="container" ng-controller="gameListController as gameList">
            <div class="row">
                <div class="col-lg-6">
                    <h3>User info</h3>
                    <hr />
                    <p>
                        <strong>Username: </strong>{{ gameList.user.name }}<br />
                    </p>
                </div>
                <div class="col-lg-6">
                    <h3>New Game</h3>
                    <hr />
                    <div class="col-lg-12">
                        <label class="form-group form-inline">
                            Name: <input class="form-control" ng-model="html.nameInput"></input>
                        </label>
                        <button class="btn btn-success form-inline" ng-click="gameList.newGame(html.nameInput)">Create Game</button>
                    </div>
                </div>
            </div> <!-- /row -->
            
            <div class="row">
                <h3 class="text-center">Joinable games:</h3>
                <hr />
                <div class="col-lg-8 col-lg-offset-2">
                    <table class="table table-condensed">
                        <thead>
                            <tr>
                                <td><strong>Name</strong></td>
                                <td><strong>Players</strong></td>
                                <td><strong>Action</strong></td>
                            </tr>
                        </thead>
                        <tr ng-repeat="game in gameList.games" ng-show="gameList.canJoinGame(game)">
                            <td>{{ game.title }}</td>
                            <td><text ng-repeat="player in game.players">{{ player }} </td>
                            <td><button class="btn btn-primary" ng-click="gameList.joinGame(game)">Join</button></td>
                        </tr>
                    </table>
                </div>
            </div> <!-- /row -->
            
            <div class="row">
                <h3 class="text-center">All games:</h3>
                <hr />
                <div class="col-lg-8 col-lg-offset-2">
                    <table class="table table-condensed">
                        <thead>
                            <tr>
                                <td><strong>Name</strong></td>
                                <td><strong>Players</strong></td>
                                <td><strong>Actie</strong></td>
                            </tr>
                        </thead>
                        <tr ng-repeat="game in gameList.games.slice().reverse()">
                            <td>{{ game.title }}</td>
                            <td><text ng-repeat="player in game.players">{{ player }}</td>
                            <td><button class="btn btn-primary" ng-click="gameList.openGame(game)">Open</button></td>
                        </tr>
                    </table>
                </div>
            </div> <!-- /row -->
            
            <div class="row" ng-controller="gameController as game">
                {{ game.currentGame() }}
            </div>
        </div> <!-- /gameList -->
        <script src="/lib/jquery-2.2.3.min.js"></script>
        <script src="/lib/underscore-1.8.3.min.js"></script>
        <script src="/lib/angular-1.5.5.min.js"></script>
        <script src="/js/app.js"></script>
    </body>
</html>